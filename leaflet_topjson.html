<!DOCTYPE html>
<html>
<head>
    <title>Leaflet TopoJSON Example</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link href="http://cdn.leafletjs.com/leaflet-0.6.4/leaflet.css" rel="stylesheet" type="text/css">
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
    <script src="http://cdn.leafletjs.com/leaflet-0.6.4/leaflet.js"></script>
    <script src="http://d3js.org/topojson.v1.min.js"></script>

  <style>
    #map {
      width: 800px;
      height: 500px;
    }

    .info {
      padding: 6px 8px;
      font: 14px/16px Arial, Helvetica, sans-serif;
      background: white;
      background: rgba(255,255,255,0.8);
      box-shadow: 0 0 15px rgba(0,0,0,0.2);
      border-radius: 5px;
    }
    .info h4 {
      margin: 0 0 5px;
      color: #777;
    }
  </style>
</head>
<body>



<div id="map"></div>


<script type="text/javascript">


var map = L.map('map').setView([48.58, -123.42], 11)

// add background tiles
var backgroundTiles= L.tileLayer('http://a.tiles.mapbox.com/v3/hillcrestgeo.map-kn42hxnd/{z}/{x}/{y}.png').addTo(map);


// load watersheds
$.ajax({
    url: "data/wsds.geojson",
    dataType: 'json',
    success: function (response) {
        wsds_layer = L.geoJson(response).addTo(map);
        }
});



// load watersheds
// $.ajax({
 //    url: "data/wsds.topojson",
//     dataType: 'json',
//     success: function (response) {
//         var wsd_geojson = topojson.object(data, data.objects.saanich_watersheds);
//         L.geoJson(wsd_geojson).addTo(map)};
// });



//var wsd_layer = L.geoJson(null, {
//       style: {
//            color: '#666',
//            weight: 1,
//            opacity: 1,
//            fillOpacity: 0.3
//        }
//    })
//
//$.getJSON('data/wsds.topojson', function (data) {
//    var wsd_geojson = topojson.feature(data, data.objects.saanich_watersheds);
//    wsd_layer.addData(wsd_geojson);
//});

  </script>
</body>
</html>

